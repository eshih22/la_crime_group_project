<!-- <!DOCTYPE html>
<html>

<head>
  <title>LA Crime Rates</title>
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.3/dist/leaflet.css" />
  <script src="https://unpkg.com/leaflet@1.9.3/dist/leaflet.js"
      integrity ="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo="
      crossorigin=""></script>
  <script src="https://d3js.org/d3.v7.min.js"></script>
</head>

<body>
  <div id="map"></div>
  <select id="year-select">
    <option value="2020">2020</option>
    <option value="2021">2021</option>
    <option value="2022">2022</option>
    <option value="2023">2023</option>
  </select>
  <script src="code.js"></script>


  <script>
    let myMap = L.map("map", {
      center: [34.0522, -118.2437],
      zoom: 13
    });

  //   L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
  //     attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'
  //   }).addTo(myMap);

  //   function calculateChange(currentYear, previousYear) {
  //   if (previousYear === 0) {
  //     return "N/A";
  //   } else {
  //     const change = ((currentYear - previousYear) / previousYear) * 100;
  //     return change.toFixed(2) + "%";
  //   }
  // }
  //       // Define crime layer
  //       const crimeLayer = L.geoJson(precinctData, {
  //       // Access precinct and crime data properties
  //       onEachFeature: function (feature, layer) {
  //         const precinct = feature.properties.Precinct;
  //         const currentYear = feature.properties[2023]; // Access data for 2023
  //         const previousYear = feature.properties[2022]; // Access data for 2022
  //         const change = calculateChange(currentYear, previousYear);

  //         // Update popup content
  //         layer.bindPopup(`<b>Precinct: ${precinct}</b><br>2023 Crime Rate: ${currentYear}<br>Change from 2022: ${change}`);
  //       }
  //     });

  //     // Add crime layer to map
  //     crimeLayer.addTo(map);

  //     // Event listener for year selection
  //     document.getElementById("year-select").addEventListener("change", function (e) {
  //       const selectedYear = e.target.value;

  //       // Update crime layer data
  //       crimeLayer.eachLayer(function (layer) {
  //         layer.bindPopup(`<b>Precinct: ${layer.feature.properties.Precinct_Name}</b><br>${selectedYear} Crime Rate: ${layer.feature.properties[selectedYear]}`);
  //       });
  //     });
    
  </script>
</body>
</html>  -->
<!-- <!DOCTYPE html>
<html>

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>LA Crime Rates</title>
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.3/dist/leaflet.css" />
  
</head>

<body>
  <div id="map"></div>

  <select id="year-select">
    <option value="2020">2020</option>
    <option value="2021">2021</option>
    <option value="2022">2022</option>
    <option value="2023">2023</option>
  </select>


  <script src="code.js"></script>

  </script>
</body>

</html> -->

<!DOCTYPE html>
<html>

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>LA Crime Rates</title>
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.3/dist/leaflet.css"
    integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY=" crossorigin="" />
</head>

<body>
  <div id="map"></div>

  <!-- Leaflet JS -->
  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
    integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo=" crossorigin=""></script>
  <!-- D3 JavaScript -->
  <script src="https://d3js.org/d3.v7.min.js"></script>
  <!-- Our JavaScript -->
  <script type="text/javascript" src="code.js"></script>

  <select id="year-select">
    <option value="2020">2020</option>
    <option value="2021">2021</option>
    <option value="2022">2022</option>
    <option value="2023">2023</option>
  </select>
  <!-- <script src="code/code.js"></script> -->
</body>

</html>